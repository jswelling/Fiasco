# $Id: mutual_information.c,v 1.5 2005/09/27 20:22:36 welling Exp $
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>mutual_information_help</title>
  </head>
  <body>
    <h1>mutual_information_help</h1>
<h2>Overview</h2>
<pre>

  mutual_information calculates the time series of mutual information
  values of a time series of pairs of images in Pgh MRI format.

    mutual_information [-debug] [-estimates parfile] [-nbins nBins]
          [-max MaxVal] [-min MinVal] [-cmx CompMaxVal] [-cmn CompMinVal] 
   [-mask maskFile] infile compfile

  or

    mutual_information -help [subtopic]

</pre>
<h2>Usage</h2>
<h3>estimates</h3>
<pre>

  -estimates parfile             (-e parfile)

  Ex: -estimates entropy.par

  specifies that the calculated Shannon entropy values are to be 
  written to parfile.  The default is "mutual_information.par".

  The format of the parameter estimates file is:

    image# val

  where image# is the sequential image number (counting from 0) and
  val is the calculated entropy.  Standard Fiasco parameter file
  header information is included.

</pre>
<h3>nbins</h3>
<pre>

   -nbins N

   Specifies the number of bins to use for the histogram used to
   calculate the Shannon entropy.  The default is calculated using
   Sturges' rule, nbins= ceil(log2(nsamples)+1) .

</pre>
<h3>min</h3>
<pre>

   -min MinVal

   Specifies the value assigned to the center of the lowest bin of
   the input file's axis of the 2D histogram.  The default is the 
   minimum sample value.

</pre>
<h3>max</h3>
<pre>

   -max MaxVal

   Specifies the value assigned to the center of the highest bin of
   the input file's axis of the 2D histogram.  The default is the 
   maximum sample value.

</pre>
<h3>cmn</h3>
<pre>

   -cmn CompMinVal

   Specifies the value assigned to the center of the lowest bin of
   the comparison file's edge of the 2D histogram.  The default is 
   the minimum comparison sample value.

</pre>
<h3>cmx</h3>
<pre>

   -cmx CompMaxVal

   Specifies the value assigned to the center of the highest bin of
   the comparison file's edge of the 2D histogram.  The default is 
   the maximum comparison sample value.

</pre>
<h3>mask</h3>
<pre>

   -mask maskFile

   Specifies the name of a file containing a mask dataset.  The
   values in the file must be either 0.0 or 1.0; only voxel locations
   corresponding to non-zero mask values will be included in the
   entropy calculation.  The mask dataset dimensions must be
   (v)xyz..., where the extent of v must be 1 if it is present.
   If there are dimensions after z, they will be cycled through,
   so a different mask can be used at each time point in a series
   of images.

</pre>
<h3>infile</h3>
<pre>

   Specifies the name of the input dataset.  This parameter is
   required.  The input dataset must be in (v)xyz... format,
   where the extent of v must be 1 if it is present.  Any
   dimensions after z are treated as separate times. The most
   common input dataset would have dimensions xyzt, and a
   separate Shannon entropy would be calculated for each value
   of t.

</pre>
<h3>compfile</h3>
<pre>

   Specifies the name of the comparison dataset.  This parameter is
   required.  The input dataset must be in (v)xyz... format,
   where the extent of v must be 1 if it is present.  Any
   dimensions after z are treated as separate times. If more than
   one time is given, it must match the number of times in infile.
   In this case, the corresponding times between the two files
   are used to calculate mutual information.  If compfile has only
   one time, all timepoints in infile are compared to this image.

</pre>
<h3>debug</h3>
<pre>

  -debug

  This flag causes debugging output to be written.

</pre>
<h3>verbose</h3>
<pre>

  -verbose                  (-v)

  This flag causes verbose output to be written.

</pre>
<h2>Details</h2>
<h3>ImageEntropyCalculation</h3>
<pre>

  See for example "Mutual-Information-Based Registration of Medical
  Images: A Survey" by Pluim, Maintz, and Viergever, IEEE Transactions
  on Medical Imaging, 22.8, August 2003.

  If the bounds of the histogram are defined such that some counts fall
  outside the range, those counts are dropped and a warning message
  is produced.

  Note that a few extreme values can strongly effect the entropy by
  changing the range over which the histogram is binned.  To avoid
  this problem, specify min and max bounds for the histogram.

  When a mask is applied, samples outside the mask are simply excluded
  from the histogram and the P scores.
</pre>
    <hr>
    (automatically generated by mutual_information_help version of Sat Jan  2 22:50:20 2010)
  </body>
</html>
