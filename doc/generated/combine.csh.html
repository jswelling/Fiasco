#Mon Sep 10 22:43:00 EDT 2012 /home/welling/Fiasco/Fiasco_final/bin/LINUXX86_64/combine.csh
# $Id: combine.csh,v 1.5 2004/12/09 00:22:09 welling Exp $
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>combine.csh</title>
  </head>
  <body>
    <h1>combine.csh</h1>
<h2>Overview</h2>
<pre>

  combine.csh takes multiple Tmaps as input, and produces a Pmap as
  output using any of several methods.

  combine.csh -o outFile [-f] -m [fisher|stouffer] Tmap1 Tmap2 ...

    -o outFile specifies the name of the output Pmap
    -f specifies that a 'folded' Pmap is to be produced
    -m specifies the method to be used:

       fisher: use Fisher's method (default)
       stouffer: use Stouffer's method 
       binomial: use binomial method

    Tmap1, Tmap2, etc. are input Tmaps.  (In the case of the binomial
    method, samples from any symmetrical distribution can be used).
    Note that they must each contain the appropriate 'counts1' and 
    'counts2' chunks in addition to the 'images' chunk containing 
    the T values themselves.

  or

  combine.csh -help [topic]

</pre>
<h2>Details</h2>
<pre>

  The Fisher and Stouffer algorithms are as described in "Combining 
  Brains: A Survey of Methods for Statistical Pooling of Information" 
  by Nicole A. Lazar, Beatriz Luna, John A. Sweeney, and William F. 
  Eddy, 2001.    A technical report version of the paper is available 
  from the Reference section of http://www.stat.cmu.edu/~fiasco .

  The binomial method simply counts the number of input T scores which
  are greater than zero for each voxel, treats the result as a sample
  from a binomial distribution, and produces the corresponding P
  score.  This test is very weak, but it has the advantage of being
  non-parametric and can samples from any symmetrical distribution as
  input.

  Note that the left tail of the combined P distribution corresponds
  to the left tail of the input T distributions.  Because Fisher's
  method is not symmetrical between the two tails, and because a
  binary floating point number can store values near 0.0 much more
  precisely than it can store values near 1.0, you may want to build
  Pmaps for the left and right tails of the combined distribution
  separately.  To do this, use mri_rpn_math to multiply each of the
  input Tmaps by -1, swapping the two tails, and then feed these
  tail-swapped Tmaps to combine.csh .  By convention in Fiasco, Pmaps
  which have been swapped in this way have the suffix '_bar' in their
  filenames.  Since false_discovery.py calculates the false discovery
  threshold for the left tail of its input Pmap, swapping tails will
  also be necessary if you want a false discovery threshold for a
  right tail.  <b>NOTE</b> that subtracting a Pmap from 1.0 to swap its tails
  is not as good a solution because of the poor numerical precision
  of P scores near 1.0.  Use of the '-f' flag can avoid this problem
  by producing folded Pmaps, which have values in the range (-0.5 to
  0.5] with values near zero being most significant.

  It is often convenient to convert P scores to Z scores, for example
  when plotting or thresholding combined maps.  This can be done with
  the command:

    mri_rpn_math -out Zmap '$1,0,1,inv_cnormal' Pmap

  If the input is a folded Pmap, substitute 'inv_fcnormal' for 
  'inv_cnormal'.

</pre>
    <hr>
    (automatically generated by combine.csh version of Sat Jan  2 22:50:39 2010)
  </body>
</html>
